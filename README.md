# Safina ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞–º–∏

## –û–±–∑–æ—Ä

Safina ‚Äî —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞—è–≤–∫–∞–º–∏ –Ω–∞ —Ä–∞—Å—Ö–æ–¥—ã —Å Kanban-–¥–æ—Å–∫–æ–π, –∞—Ä—Ö–∏–≤–æ–º, PDF-—Å–º–µ—Ç–∞–º–∏ –∏ CSV-—ç–∫—Å–ø–æ—Ä—Ç–æ–º. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram-–±–æ—Ç–æ–º –¥–ª—è –ø—Ä–∏—ë–º–∞ –∑–∞—è–≤–æ–∫ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  React (SPA)    ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ  Backend API ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ PostgreSQL  ‚îÇ
‚îÇ  –ê–¥–º–∏–Ω–∫–∞ Safina ‚îÇ     ‚îÇ  (REST/JWT)  ‚îÇ     ‚îÇ             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                               ‚îÇ
                        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                        ‚îÇ Telegram Bot ‚îÇ
                        ‚îÇ  (–∫–æ–º–∞–Ω–¥—ã)   ‚îÇ
                        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### Project
| –ü–æ–ª–µ       | –¢–∏–ø      | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|------------|----------|-----------------------------------|
| id         | UUID     | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á                    |
| name       | string   | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞                  |
| code       | string   | –ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ (TST, AVL, SMR)       |
| created_at | datetime | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è                     |

### TeamMember
| –ü–æ–ª–µ             | –¢–∏–ø                  | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|------------------|----------------------|-----------------------------------|
| id               | UUID                 | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á                    |
| last_name        | string               | –§–∞–º–∏–ª–∏—è                          |
| first_name       | string               | –ò–º—è                              |
| project_id       | UUID (FK ‚Üí Project)  | –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É                |
| login            | string (unique)      | –õ–æ–≥–∏–Ω (–¥–ª—è –±–æ—Ç–∞ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)    |
| password_hash    | string               | –•–µ—à –ø–∞—Ä–æ–ª—è                       |
| telegram_chat_id | bigint (nullable)    | ID —á–∞—Ç–∞ –≤ Telegram                |
| status           | enum(active,blocked) | –°—Ç–∞—Ç—É—Å —É—á–∞—Å—Ç–Ω–∏–∫–∞                  |
| created_at       | datetime             | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è                     |

### ExpenseRequest
| –ü–æ–ª–µ             | –¢–∏–ø                  | –û–ø–∏—Å–∞–Ω–∏–µ                          |
|------------------|----------------------|-----------------------------------|
| id               | UUID                 | –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á                    |
| request_id       | string (unique)      | –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π ID: `{CODE}-{N}`     |
| date             | datetime             | –î–∞—Ç–∞ –∑–∞—è–≤–∫–∏                       |
| purpose          | string               | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞                |
| items            | JSON[]               | –ú–∞—Å—Å–∏–≤ –ø–æ–∑–∏—Ü–∏–π —Å–º–µ—Ç—ã              |
| total_amount     | decimal              | –ò—Ç–æ–≥–æ–≤–∞—è —Å—É–º–º–∞                    |
| currency         | enum(UZS,USD,RUB)    | –í–∞–ª—é—Ç–∞                            |
| status           | enum (6 –∑–Ω–∞—á–µ–Ω–∏–π)    | –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å                    |
| created_by       | string               | –§–ò–û –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ                |
| created_by_id    | UUID (FK ‚Üí Team)     | ID —É—á–∞—Å—Ç–Ω–∏–∫–∞                      |
| project_id       | UUID (FK ‚Üí Project)  | –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É                |
| project_name     | string               | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (–¥–µ–Ω–æ—Ä–º.)        |
| project_code     | string               | –ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ (–¥–µ–Ω–æ—Ä–º.)             |
| internal_comment | text (nullable)      | –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–∞–¥–º–∏–Ω–∫–∞)  |
| status_comment   | text (nullable)      | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ —Å—Ç–∞—Ç—É—Å—É (Telegram)  |
| created_at       | datetime             | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è                     |

### ExpenseItem (JSON –≤–Ω—É—Ç—Ä–∏ items)
| –ü–æ–ª–µ     | –¢–∏–ø              | –û–ø–∏—Å–∞–Ω–∏–µ           |
|----------|------------------|--------------------|
| name     | string           | –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ       |
| quantity | number           | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ         |
| amount   | number           | –°—É–º–º–∞              |
| currency | enum(UZS,USD,RUB)| –í–∞–ª—é—Ç–∞             |

### ProjectCounter (–¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ Request ID)
| –ü–æ–ª–µ         | –¢–∏–ø                 | –û–ø–∏—Å–∞–Ω–∏–µ                 |
|--------------|---------------------|--------------------------|
| project_code | string (PK)         | –ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞              |
| counter      | integer             | –ü–æ—Å–ª–µ–¥–Ω–∏–π –Ω–æ–º–µ—Ä          |

---

## –°—Ç–∞—Ç—É—Å—ã –∑–∞—è–≤–æ–∫

| –°—Ç–∞—Ç—É—Å     | –ö–ª—é—á       | –ù–∞ –¥–æ—Å–∫–µ | –í –∞—Ä—Ö–∏–≤–µ | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω |
|------------|------------|----------|----------|------------------------|
| –ó–∞–ø—Ä–æ—Å     | request    | ‚úÖ        | ‚ùå        | ‚ùå                      |
| –ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏ | review | ‚úÖ      | ‚ùå        | ‚ùå                      |
| –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ | confirmed | ‚úÖ      | ‚ùå        | ‚ùå                      |
| –û—Ç–∫–ª–æ–Ω–µ–Ω–æ  | declined   | ‚úÖ        | ‚ùå        | ‚úÖ                      |
| –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É | revision | ‚úÖ | ‚ùå     | ‚úÖ                      |
| –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–æ | archived | ‚ùå        | ‚úÖ        | ‚ùå                      |

---

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Request ID

–§–æ—Ä–º–∞—Ç: `{PROJECT_CODE}-{N}`

- –°—á—ë—Ç—á–∏–∫ `N` –æ—Ç–¥–µ–ª—å–Ω—ã–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 1, —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 1
- –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å—á—ë—Ç—á–∏–∫
- –ü—Ä–∏–º–µ—Ä: TST-1, TST-2, AVL-1, SMR-1

---

## API –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã (Backend)

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

```
POST /api/auth/login
Body: { login: string, password: string }
Response: { token: string, role: "admin", projectId?: string }
```

### –ü—Ä–æ–µ–∫—Ç—ã

```
GET    /api/projects              ‚Üí Project[]
POST   /api/projects              ‚Üí { name, code } ‚Üí Project
PUT    /api/projects/:id          ‚Üí { name, code } ‚Üí Project
DELETE /api/projects/:id          ‚Üí 204
```

### –ö–æ–º–∞–Ω–¥–∞

```
GET    /api/team                  ‚Üí TeamMember[]
POST   /api/team                  ‚Üí { lastName, firstName, projectId, login, password } ‚Üí TeamMember
PUT    /api/team/:id              ‚Üí { ...fields } ‚Üí TeamMember
DELETE /api/team/:id              ‚Üí 204
```

### –ó–∞—è–≤–∫–∏

```
GET    /api/expenses              ‚Üí ExpenseRequest[]
  Query: ?project=UUID&status=request,review&from=2025-01-01&to=2025-12-31&search=TST-1

PATCH  /api/expenses/:id/status   ‚Üí { status, comment? } ‚Üí ExpenseRequest
  - –ï—Å–ª–∏ status = declined | revision ‚Üí comment –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω
  - –¢—Ä–∏–≥–≥–µ—Ä–∏—Ç Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

PUT    /api/expenses/:id/comment  ‚Üí { internalComment } ‚Üí 200
  - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ —É—Ö–æ–¥–∏—Ç –≤ Telegram)
```

### –≠–∫—Å–ø–æ—Ä—Ç

```
GET    /api/expenses/export       ‚Üí CSV/Excel —Ñ–∞–π–ª
  Query: ?project=UUID&from=DATE&to=DATE&allStatuses=true
  –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ status=confirmed
```

---

## Telegram Bot

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –±–æ—Ç–µ
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç `/start`
2. –ë–æ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ª–æ–≥–∏–Ω ‚Üí –ø–∞—Ä–æ–ª—å
3. –ü—Ä–∏ —É—Å–ø–µ—Ö–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç `telegram_chat_id` –≤ TeamMember
4. –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ –º–æ–≥—É—Ç –≤–æ–π—Ç–∏

### –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ (–ø–æ—à–∞–≥–æ–≤—ã–π wizard)
```
–®–∞–≥ 1: –î–∞—Ç–∞ –∑–∞—è–≤–∫–∏ (YYYY-MM-DD HH:MM –∏–ª–∏ "—Å–µ–π—á–∞—Å")
–®–∞–≥ 2: –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ (—Ç–µ–∫—Å—Ç)
–®–∞–≥ 3: –ü–æ–∑–∏—Ü–∏–∏ —Å–º–µ—Ç—ã (—Ü–∏–∫–ª):
   - –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ
   - –°—É–º–º–∞
   - –í–∞–ª—é—Ç–∞ (UZS/USD/RUB)
   - "–î–æ–±–∞–≤–∏—Ç—å –µ—â—ë" / "–ì–æ—Ç–æ–≤–æ"
–®–∞–≥ 4: –ò—Ç–æ–≥ ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞
```

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–±–æ—Ç ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å)

–ü—Ä–∏ **–ª—é–±–æ–º** –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ:
```
üìã –ó–∞—è–≤–∫–∞ {REQUEST_ID}
üìå –°—Ç–∞—Ç—É—Å: {–ù–û–í–´–ô_–°–¢–ê–¢–£–°}
üèó –ü—Ä–æ–µ–∫—Ç: {PROJECT_NAME}
üí∞ –°—É–º–º–∞: {TOTAL} {CURRENCY}
üïê –ò–∑–º–µ–Ω–µ–Ω–æ: {DATETIME}
```

–ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å = –û—Ç–∫–ª–æ–Ω–µ–Ω–æ / –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É:
```
üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: {STATUS_COMMENT}
```

---

## –§—Ä–æ–Ω—Ç–µ–Ω–¥ (React SPA)

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- React 18 + TypeScript
- React Router 6
- Tailwind CSS + shadcn/ui
- jsPDF + jspdf-autotable (PDF)
- date-fns (–¥–∞—Ç—ã)

### –ú–∞—Ä—à—Ä—É—Ç—ã

| –ú–∞—Ä—à—Ä—É—Ç                    | –ö–æ–º–ø–æ–Ω–µ–Ω—Ç      | –û–ø–∏—Å–∞–Ω–∏–µ              |
|----------------------------|----------------|-----------------------|
| `/`                        | Login          | –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞        |
| `/dashboard`               | Applications   | Kanban-–¥–æ—Å–∫–∞ –∑–∞—è–≤–æ–∫   |
| `/dashboard/archive`       | Archive        | –ê—Ä—Ö–∏–≤ –∑–∞—è–≤–æ–∫          |
| `/dashboard/projects`      | Projects       | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏  |
| `/dashboard/team`          | Team           | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π   |
| `/dashboard/expense/:id`   | ExpenseDetail  | –î–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏         |

### Sidebar
- –ó–∞—è–≤–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ê—Ä—Ö–∏–≤
- –ü—Ä–æ–µ–∫—Ç—ã
- –ö–æ–º–∞–Ω–¥–∞
- –ö–Ω–æ–ø–∫–∞ ¬´–í—ã—Ö–æ–¥¬ª –≤–Ω–∏–∑—É

### –≠–∫—Ä–∞–Ω ¬´–ó–∞—è–≤–∫–∏¬ª ‚Äî Kanban

5 –∫–æ–ª–æ–Ω–æ–∫: –ó–∞–ø—Ä–æ—Å ‚Üí –ù–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–∏ ‚Üí –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ ‚Üí –û—Ç–∫–ª–æ–Ω–µ–Ω–æ ‚Üí –í–æ–∑–≤—Ä–∞—Ç –Ω–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É

**Drag & Drop:**
- –ö–∞—Ä—Ç–æ—á–∫–∏ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏ (–∫–∞–∫ –≤ Trello)
- –ü—Ä–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å –∑–∞—è–≤–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–µ–Ω—è–µ—Ç—Å—è
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞: `@hello-pangea/dnd`

**–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤–∏–¥:**
- –ö–∞–∂–¥–∞—è –∫–æ–ª–æ–Ω–∫–∞ –∏–º–µ–µ—Ç —Å—Ç—Ä–µ–ª–æ—á–∫—É (‚ñ∂/‚ñº) –¥–ª—è —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è
- –í –∫–æ–º–ø–∞–∫—Ç–Ω–æ–º –≤–∏–¥–µ: –∫–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞ + –Ω–∞–∑–≤–∞–Ω–∏–µ (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–µ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –∑–∞—è–≤–∫—É)
- –í —Ä–∞–∑–≤—ë—Ä–Ω—É—Ç–æ–º –≤–∏–¥–µ: –ø–æ–ª–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞

**–ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞—è–≤–∫–∏ (–ø–æ–ª–Ω–∞—è):**
- Request ID (TST-1)
- –î–∞—Ç–∞ (YYYY-MM-DD HH:MM)
- –ü—Ä–æ–µ–∫—Ç
- –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π (–§–ò–û)
- –°—É–º–º–∞ + –≤–∞–ª—é—Ç–∞
- –ö–Ω–æ–ø–∫–∞ ¬´–°–∫–∞—á–∞—Ç—å —Å–º–µ—Ç—É¬ª (PDF)
- –ö–Ω–æ–ø–∫–∞ ¬´–û—Ç–∫—Ä—ã—Ç—å¬ª

**–§–∏–ª—å—Ç—Ä—ã:**
- –ü–æ–∏—Å–∫ –ø–æ Request ID (–ø–æ–ª–Ω—ã–π/—á–∞—Å—Ç–∏—á–Ω—ã–π)
- Dropdown –ø—Ä–æ–µ–∫—Ç
- –ü–µ—Ä–∏–æ–¥ (–æ—Ç/–¥–æ)

### –≠–∫—Ä–∞–Ω ¬´–î–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏¬ª

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- Request ID + —Å—Ç–∞—Ç—É—Å (badge)
- –ü—Ä–æ–µ–∫—Ç + –∫–æ–¥
- –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π
- –î–∞—Ç–∞/–≤—Ä–µ–º—è
- –°—É–º–º–∞ + –≤–∞–ª—é—Ç–∞
- –¢–∞–±–ª–∏—Ü–∞ —Å–º–µ—Ç—ã: –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ / –ö–æ–ª-–≤–æ / –°—É–º–º–∞
- –ò—Ç–æ–≥–æ
- –ö–Ω–æ–ø–∫–∞ ¬´–°–∫–∞—á–∞—Ç—å —Å–º–µ—Ç—É¬ª (PDF)

**–ö–Ω–æ–ø–∫–∏ —Å–º–µ–Ω—ã —Å—Ç–∞—Ç—É—Å–∞:**
- –í —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏–µ
- –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å
- –û—Ç–∫–ª–æ–Ω–∏—Ç—å (‚Üí –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π)
- –ù–∞ –¥–æ—Ä–∞–±–æ—Ç–∫—É (‚Üí –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π)
- –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å

**Internal comment:**
- –¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ + –∫–Ω–æ–ø–∫–∞ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª
- –í–∏–¥–Ω–æ —Ç–æ–ª—å–∫–æ –≤ –∞–¥–º–∏–Ω–∫–µ, –Ω–µ —É—Ö–æ–¥–∏—Ç –≤ Telegram

### –≠–∫—Ä–∞–Ω ¬´–ê—Ä—Ö–∏–≤¬ª

–¢–∞–±–ª–∏—Ü–∞ –∑–∞—è–≤–æ–∫ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º ¬´–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–æ¬ª:
- Request ID
- –î–∞—Ç–∞/–≤—Ä–µ–º—è
- –ü—Ä–æ–µ–∫—Ç
- –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π
- –°—É–º–º–∞ + –≤–∞–ª—é—Ç–∞
- ¬´–°–∫–∞—á–∞—Ç—å —Å–º–µ—Ç—É¬ª (PDF)
- ¬´–û—Ç–∫—Ä—ã—Ç—å¬ª

**–§–∏–ª—å—Ç—Ä—ã:** –ü—Ä–æ–µ–∫—Ç (dropdown) + –ü–µ—Ä–∏–æ–¥ (–æ—Ç/–¥–æ)

**–†–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í –¥–µ—Ç–∞–ª—è—Ö ‚Äî –∫–Ω–æ–ø–∫–∞ ¬´–í–µ—Ä–Ω—É—Ç—å –∏–∑ –∞—Ä—Ö–∏–≤–∞¬ª ‚Üí —Å—Ç–∞—Ç—É—Å = request

### –≠–∫—Ä–∞–Ω ¬´–ü—Ä–æ–µ–∫—Ç—ã¬ª

–¢–∞–±–ª–∏—Ü–∞:
- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- Project Code

–§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è: –ù–∞–∑–≤–∞–Ω–∏–µ + Code

### –≠–∫—Ä–∞–Ω ¬´–ö–æ–º–∞–Ω–¥–∞¬ª

–¢–∞–±–ª–∏—Ü–∞:
- –§–∞–º–∏–ª–∏—è
- –ò–º—è
- –ü—Ä–æ–µ–∫—Ç
- –õ–æ–≥–∏–Ω
- –°—Ç–∞—Ç—É—Å (Active/Blocked)

–§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è: –§–∞–º–∏–ª–∏—è, –ò–º—è, –ü—Ä–æ–µ–∫—Ç (dropdown), –õ–æ–≥–∏–Ω (unique), –ü–∞—Ä–æ–ª—å

---

## –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

### PDF ‚Äî ¬´–°–∫–∞—á–∞—Ç—å —Å–º–µ—Ç—É¬ª
–°–æ–¥–µ—Ä–∂–∏—Ç:
- Request ID, –¥–∞—Ç–∞/–≤—Ä–µ–º—è, –ø—Ä–æ–µ–∫—Ç, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π, —Å—Ç–∞—Ç—É—Å
- –¢–∞–±–ª–∏—Ü–∞: –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ / –ö–æ–ª-–≤–æ / –°—É–º–º–∞
- –ò—Ç–æ–≥–æ + –≤–∞–ª—é—Ç–∞

–î–æ—Å—Ç—É–ø–Ω–∞: –Ω–∞ –¥–æ—Å–∫–µ, –≤ –¥–µ—Ç–∞–ª—è—Ö, –≤ –∞—Ä—Ö–∏–≤–µ

### CSV ‚Äî ¬´–°–∫–∞—á–∞—Ç—å —Ä–∞—Å—Ö–æ–¥—ã¬ª
–ö–æ–ª–æ–Ω–∫–∏:
- Request ID
- –î–∞—Ç–∞/–≤—Ä–µ–º—è
- Project Code
- –ü—Ä–æ–µ–∫—Ç
- –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π
- –°—Ç–∞—Ç—É—Å
- –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞
- –ö–æ–ª-–≤–æ
- –°—É–º–º–∞
- –í–∞–ª—é—Ç–∞
- –ò—Ç–æ–≥ –ø–æ –∑–∞—è–≤–∫–µ

–ü—Ä–∞–≤–∏–ª–∞:
- –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä –ø—Ä–æ–µ–∫—Ç + –ø–µ—Ä–∏–æ–¥
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–æ–ª—å–∫–æ status=confirmed
- –ß–µ–∫–±–æ–∫—Å ¬´–í—Å–µ —Å—Ç–∞—Ç—É—Å—ã¬ª (–≤–∫–ª—é—á–∞—è –∞—Ä—Ö–∏–≤)

---

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (Frontend)

| # | –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª | –°—Ç–∞—Ç—É—Å |
|---|-----------|--------|
| 1 | Login (safina/admin123) | ‚úÖ |
| 2 | –ó–∞—â–∏—Ç–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ | ‚úÖ |
| 3 | Logout | ‚úÖ |
| 4 | Sidebar —Å —Ä–∞–∑–¥–µ–ª–∞–º–∏ | ‚úÖ |
| 5 | 6 —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞—è–≤–æ–∫ | ‚úÖ |
| 6 | Kanban 5 –∫–æ–ª–æ–Ω–æ–∫ | ‚úÖ |
| 7 | –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞—è–≤–∫–∏ –Ω–∞ –¥–æ—Å–∫–µ | ‚úÖ |
| 26 | Drag & Drop –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏ (Trello-—Å—Ç–∏–ª—å) | ‚úÖ |
| 27 | –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π –≤–∏–¥ –∫–æ–ª–æ–Ω–æ–∫ (—Å—Ç—Ä–µ–ª–æ—á–∫–∞ —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è) | ‚úÖ |
| 8 | –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞—è–≤–∫–∏ | ‚úÖ |
| 9 | –°–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–Ω–æ–ø–∫–∞–º–∏ | ‚úÖ |
| 10 | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –ø—Ä–∏ –û—Ç–∫–ª–æ–Ω–µ–Ω–æ/–î–æ—Ä–∞–±–æ—Ç–∫–∞ | ‚úÖ |
| 11 | Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è | ‚è≥ Backend |
| 12 | –≠–∫—Ä–∞–Ω ¬´–ê—Ä—Ö–∏–≤¬ª | ‚úÖ |
| 13 | –§–∏–ª—å—Ç—Ä –∞—Ä—Ö–∏–≤–∞ –ø–æ –ø—Ä–æ–µ–∫—Ç—É | ‚úÖ |
| 14 | –§–∏–ª—å—Ç—Ä –∞—Ä—Ö–∏–≤–∞ –ø–æ –ø–µ—Ä–∏–æ–¥—É | ‚úÖ |
| 15 | –†–∞–∑–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚úÖ |
| 16 | –§–∏–ª—å—Ç—Ä –¥–æ—Å–∫–∏ –ø–æ –ø—Ä–æ–µ–∫—Ç—É | ‚úÖ |
| 17 | –§–∏–ª—å—Ç—Ä –¥–æ—Å–∫–∏ –ø–æ –ø–µ—Ä–∏–æ–¥—É | ‚úÖ |
| 18 | –ü–æ–∏—Å–∫ –ø–æ Request ID | ‚úÖ |
| 19 | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Request ID | ‚úÖ |
| 20 | PDF ¬´–°–∫–∞—á–∞—Ç—å —Å–º–µ—Ç—É¬ª | ‚úÖ |
| 21 | CSV —ç–∫—Å–ø–æ—Ä—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤ | ‚úÖ |
| 22 | –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤ | ‚úÖ |
| 23 | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ | ‚úÖ |
| 24 | –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥—ã | ‚úÖ |
| 25 | –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞ | ‚úÖ |

---

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å (Backend)

| # | –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç |
|---|--------|-----------|
| 1 | PostgreSQL —Å—Ö–µ–º–∞ (—Ç–∞–±–ª–∏—Ü—ã, –∏–Ω–¥–µ–∫—Å—ã, FK) | üî¥ |
| 2 | JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (login endpoint) | üî¥ |
| 3 | CRUD API: Projects | üü° |
| 4 | CRUD API: Team | üü° |
| 5 | API: Expenses (list, filter, status change) | üî¥ |
| 6 | Atomic counter –¥–ª—è Request ID | üî¥ |
| 7 | Telegram Bot: –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è + wizard | üî¥ |
| 8 | Telegram Bot: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ —Å–º–µ–Ω–µ —Å—Ç–∞—Ç—É—Å–∞ | üî¥ |
| 9 | CSV/Excel export endpoint | üü° |
| 10 | –ó–∞–º–µ–Ω–∞ localStorage –Ω–∞ fetch API –≤–æ —Ñ—Ä–æ–Ω—Ç–µ | üü° |

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Frontend ‚Üî Backend

–ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –±–µ–∫ –Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å `src/lib/store.ts` (localStorage) –Ω–∞ API-–≤—ã–∑–æ–≤—ã:

```typescript
// –ë—ã–ª–æ (localStorage):
const expenses = store.getExpenses();

// –°—Ç–∞–Ω–µ—Ç (API):
const res = await fetch('/api/expenses?project=p1&status=request', {
  headers: { Authorization: `Bearer ${token}` }
});
const expenses = await res.json();
```

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Bearer {JWT_TOKEN}`.
